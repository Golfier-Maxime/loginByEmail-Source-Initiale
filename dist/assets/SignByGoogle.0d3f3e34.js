import{c as r}from"./index.b853457b.js";import{o as i,c as u,a,t as l}from"./index.3a8f6567.js";const d=a("p",null,"Please login if you have an account or register :",-1),c=a("br",null,null,-1),p=a("br",null,null,-1),g=a("br",null,null,-1),h=a("label",{id:"status"},"You are not yet logged ! ",-1),m="https://ncnkjckpjvogzcxeahvm.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jbmtqY2twanZvZ3pjeGVhaHZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjMzMjkxMzUsImV4cCI6MTk3ODkwNTEzNX0.QV1t05RVYpPDVoIbYbC2ChMXrSdHuSdfd81AEMeqF3E",I={methods:{async register(){try{const{user:t,session:n,error:e}=await supabase.auth.signUp({email:this.email,password:this.passwd});if(e)throw e;document.getElementById("status").innerHTML="Please validate the received email !"}catch(t){alert(t.error_description||t.message)}},async login(){try{const{user:t,session:n,error:e}=await supabase.auth.signIn({provider:"google"});if(e)throw e}catch(t){alert(t.error_description||t.message)}},async reset(){await supabase.auth.api.resetPasswordForEmail(this.email)},async logout(){try{const{user:t,session:n,error:e}=await supabase.auth.signOut();if(e)throw e;document.getElementById("status").innerHTML="You are disconnected !"}catch(t){alert(t.error_description||t.message)}},async signInWithGithub(){await supabase.auth.signIn({provider:"github"})}},mounted(){supabase.auth.onAuthStateChange(async(t,n)=>{if(t=="PASSWORD_RECOVERY"){const e=prompt("What would you like your new password to be?"),{data:s,error:o}=await supabase.auth.update({password:e});s&&alert("Password updated successfully!"),o&&alert("There was an error updating your password.")}})}},_=Object.assign(I,{__name:"SignByGoogle",setup(t){return r(m,b).auth.onAuthStateChange((e,s)=>{s==null?document.getElementById("status").innerHTML="You are not logged !!!":document.getElementById("status").innerHTML="You are logged with the email: "+s.user.email}),(e,s)=>(i(),u("div",null,[a("h1",null,l(e.msg),1),d,a("button",{onClick:s[0]||(s[0]=o=>e.login())},"Sign In With Google"),c,a("button",{onClick:s[1]||(s[1]=o=>e.signInWithGithub())},"Sign In With GitHub"),p,a("button",{onClick:s[2]||(s[2]=o=>e.logout())},"Sign Out"),g,h]))}});export{_ as default};
